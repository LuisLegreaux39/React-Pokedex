var k=Object.defineProperty,N=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var f=(r,e,t)=>e in r?k(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,c=(r,e)=>{for(var t in e||(e={}))A.call(e,t)&&f(r,t,e[t]);if(v)for(var t of v(e))x.call(e,t)&&f(r,t,e[t]);return r},y=(r,e)=>N(r,w(e));var i=(r,e,t)=>(f(r,typeof e!="symbol"?e+"":e,t),t);import{j as n,G as h,S as R,a as m,I as T,b as P,D as _,L as $,u as E,c as I,d as u,e as M,f as j,g as D,h as F,r as L,F as G,i as H,k as d,C as b,P as q,R as z,l as B}from"./vendor.61ae83c4.js";const K=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const p of a.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}};K();const U=r=>{const{bind:e}=r,t=()=>o=>e(o.target.value);return n("div",{className:"Searcher wrapper",children:n(h,{children:n(h.Column,{widescreen:10,largeScreen:10,mobile:16,className:"Searcher",children:n(R,{aligned:"right",input:{fluid:!0},showNoResults:!1,onSearchChange:t(),placeholder:"Encuentra a tu Pokem\xF3n favorito"})})})})},J="yellow",Q="violet";const V=({sprites:r,name:e,types:t})=>n(h.Column,{mobile:16,tablet:8,computer:4,children:m("div",{className:"PokemonCard",children:[n(T,{name:"favorite",color:J}),n(P,{centered:!0,src:r.front_default}),n("h2",{className:"PokemonCard-title",children:e}),n(_,{}),t.map(({type:o})=>n($,{color:Q,children:o.name}))]})}),W=r=>{const{pokemonList:e}=r,{status:t}=E(o=>o.pokemons);return t?t==="pending"?n(I,{active:!0,children:"Loading"}):n("div",{className:"wrapper",children:n(h,{children:e.map((o,s)=>n(V,c({},o),`pokemon-${s}`))})}):null},Y=r=>e=>t=>{console.log(`Triggering redux ${t.type}`),e(t)},Z={GET_ALL:"pokemon/GET_ALL"};class g{constructor(e={},t={}){i(this,"pure",()=>({get:e=>this.service.get(e,this.options)}));i(this,"setOptions",e=>this.options.headers=c(c({},this.options.headers),e));i(this,"handleError",(e,...t)=>{console.error(` On the ${this.constructor.name} ==> ${e} ==> `),console.error(t)});i(this,"get",(e,t)=>{try{let o=String(e);return this.service.get(o,this.options).then(s=>t(s.status,s.data)).catch(({response:s})=>{try{t(s.status,s)}catch(a){return this.handleError(a,e,t)}})}catch(o){console.warn(` On the ${this.constructor.name} ==> ${o}  `)}});i(this,"delete",(e,t={},o)=>this.service({method:"DELETE",url:e,data:t},this.options).then(s=>o(s.status,s.response)).catch(({response:s})=>{try{o(s.status,s)}catch(a){return this.handleError(a,e,o)}}));i(this,"post",(e,t={},o)=>this.service({method:"POST",url:e,data:t},this.options).then(s=>{o(s.status,s)}).catch(({response:s})=>{try{o(s.status,s)}catch(a){return this.handleError(a,e,o)}}));this.service=u.create(y(c({},t),{headers:c({},e)})),this.options={headers:{}}}put(e,t={},o){return this.service.request({method:"PUT",url:e,responseType:"json",data:t}).then(s=>o(s.status,s.data)).catch(({response:s})=>{try{o(s.status,s)}catch(a){return this.handleError(a,e,o)}})}}i(g,"setCommonHeaders",e=>u.defaults.headers.common=c(c({},u.defaults.headers.common),e)),i(g,"setHeaders",e=>u.defaults.headers=c(c({},u.defaults.headers),e));const X=()=>{const{REACT_APP_BACKEND_API_URL:r}={};let e=new g({},{baseURL:r||"https://pokeapi.co/api/v2/"});return e.service.interceptors.request.use(t=>t,t=>{Promise.reject(t)}),e.pure()},ee=X(),{get:C}=ee,te=r=>C(r),re=(r=151)=>C(`pokemon?limit=${r}`),se=r=>Promise.all(r.map(e=>te(e.url))),l=M(Z.GET_ALL,async()=>{const{data:{results:r}}=await re();return(await se(r)).map(t=>t.data)}),ne=r=>{r.addCase(l.pending,e=>{e.status="pending"}),r.addCase(l.fulfilled,(e,{payload:t})=>{e.status="full",e.list=t}),r.addCase(l.rejected,e=>{e.status="rejected"})},S=j({name:"pokemons",initialState:{list:[],status:null},extraReducers:r=>{ne(r)}});let oe=D({[S.name]:S.reducer});const O=F({reducer:oe,middleware:r=>r().concat(Y)}),ae=r=>O.dispatch(r);const ce=()=>{const[r,e]=L.exports.useState(""),{list:t}=E(s=>s.pokemons),o=L.exports.useCallback(()=>r?new G(t,["name"],{caseSensitive:!0}).search(r):t,[r,t]);return H(()=>ae(l())),m("div",{className:"Home",children:[n(U,{bind:s=>e(s)}),n(W,{pokemonList:o()})]})};var ie="/assets/logo_v4.70538d7c.svg";const ue=()=>n(d,{fixed:"top",children:m(b,{children:[n(d.Item,{to:"/",children:n(P,{size:"small",src:ie})}),n(d.Item,{to:"/",children:"Home"}),n(d.Item,{to:"/",position:"right",children:"Favorites"})]})});const de=({children:r})=>m("div",{children:[n(ue,{}),n("div",{className:"Layout-content",children:r})]});const le=()=>n(de,{children:n(ce,{})}),he=({children:r})=>n(q,{store:O,children:r});z.render(n(he,{children:n(B.StrictMode,{children:n(le,{})})}),document.getElementById("root"));
