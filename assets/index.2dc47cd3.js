var F=Object.defineProperty,q=Object.defineProperties;var z=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var g=(t,e,r)=>e in t?F(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,c=(t,e)=>{for(var r in e||(e={}))b.call(e,r)&&g(t,r,e[r]);if(E)for(var r of E(e))K.call(e,r)&&g(t,r,e[r]);return t},C=(t,e)=>q(t,z(e));var d=(t,e,r)=>(g(t,typeof e!="symbol"?e+"":e,r),r);import{j as n,G as l,S as U,F as W,a as i,I as L,L as I,D as J,b as O,c as u,d as T,e as Q,u as P,f as _,g as Y,h as Z,r as x,i as V,k as $,l as f,C as A,m as X,n as D,R as ee,o as w,P as te,p as re,B as se,q as ne}from"./vendor.7735f218.js";const oe=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const p of a.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}};oe();const ae=t=>{const{bind:e}=t,r=()=>o=>e(o.target.value);return n("div",{className:"Searcher wrapper",children:n(l,{children:n(l.Column,{widescreen:10,largeScreen:10,mobile:16,className:"Searcher",children:n(U,{aligned:"right",input:{fluid:!0},showNoResults:!1,onSearchChange:r(),placeholder:"Encuentra a tu Pokem\xF3n favorito"})})})})},j="violet";const ce=t=>{const{sprites:e,name:r,types:o,id:s}=t;return n(W,{children:n(l.Column,{mobile:16,tablet:8,computer:4,children:i("div",{className:"PokemonCard",children:[n(L,{centered:!0,src:e.front_default}),n(I,{to:`/${s}`,children:n("h2",{className:"PokemonCard-title",children:r})}),n(J,{}),n("div",{className:"Pokemon-type",children:o.map(({type:a})=>n(O,{color:j,children:a.name}))})]},s)})})},G={GET_ALL:"pokemon/GET_ALL",GET_ID:"pokemon/GET_ID"};class k{constructor(e={},r={}){d(this,"pure",()=>({get:e=>this.service.get(e,this.options)}));d(this,"setOptions",e=>this.options.headers=c(c({},this.options.headers),e));d(this,"handleError",(e,...r)=>{console.error(` On the ${this.constructor.name} ==> ${e} ==> `),console.error(r)});d(this,"get",(e,r)=>{try{let o=String(e);return this.service.get(o,this.options).then(s=>r(s.status,s.data)).catch(({response:s})=>{try{r(s.status,s)}catch(a){return this.handleError(a,e,r)}})}catch(o){console.warn(` On the ${this.constructor.name} ==> ${o}  `)}});d(this,"delete",(e,r={},o)=>this.service({method:"DELETE",url:e,data:r},this.options).then(s=>o(s.status,s.response)).catch(({response:s})=>{try{o(s.status,s)}catch(a){return this.handleError(a,e,o)}}));d(this,"post",(e,r={},o)=>this.service({method:"POST",url:e,data:r},this.options).then(s=>{o(s.status,s)}).catch(({response:s})=>{try{o(s.status,s)}catch(a){return this.handleError(a,e,o)}}));this.service=u.create(C(c({},r),{headers:c({},e)})),this.options={headers:{}}}put(e,r={},o){return this.service.request({method:"PUT",url:e,responseType:"json",data:r}).then(s=>o(s.status,s.data)).catch(({response:s})=>{try{o(s.status,s)}catch(a){return this.handleError(a,e,o)}})}}d(k,"setCommonHeaders",e=>u.defaults.headers.common=c(c({},u.defaults.headers.common),e)),d(k,"setHeaders",e=>u.defaults.headers=c(c({},u.defaults.headers),e));const ie=()=>{const{REACT_APP_BACKEND_API_URL:t}={};let e=new k({},{baseURL:t||"https://pokeapi.co/api/v2/"});return e.service.interceptors.request.use(r=>r,r=>{Promise.reject(r)}),e.pure()},de=ie(),{get:S}=de,le=t=>S(`pokemon/${t}`),ue=t=>S(t),he=(t=151)=>S(`pokemon?limit=${t}`),me=t=>Promise.all(t.map(e=>ue(e.url))),h=T(G.GET_ALL,async()=>{const{data:{results:t}}=await he();return(await me(t)).map(r=>r.data)}),pe=t=>{t.addCase(h.pending,e=>{e.home.status="pending"}),t.addCase(h.fulfilled,(e,{payload:r})=>{e.home.status="full",e.home.list=r}),t.addCase(h.rejected,e=>{e.home.status="rejected"})},m=T(G.GET_ID,async t=>{const{data:e}=await le(t);return e}),ge=t=>{t.addCase(m.pending,e=>{e.details.status="pending"}),t.addCase(m.fulfilled,(e,{payload:r})=>{e.details.status="full",e.details.pokemon=r}),t.addCase(m.rejected,e=>{e.details.status="rejected"})},N=Q({name:"pokemons",initialState:{home:{list:[],status:null},details:{pokemon:null,status:null}},extraReducers:t=>{pe(t),ge(t)}}),M=t=>t.pokemons.home,fe=t=>t.pokemons.details,ve=t=>{const{pokemonList:e}=t,{status:r}=P(o=>M(o));return r?r==="pending"?n(_,{active:!0,children:"Loading"}):n("div",{className:"wrapper",children:n(l,{children:e.map((o,s)=>n(ce,c({},o),`pokemon-${s}`))})}):null},ye=t=>e=>r=>{console.log(`Triggering redux ${r.type}`),e(r)};let ke=Y({[N.name]:N.reducer});const H=Z({reducer:ke,middleware:t=>t().concat(ye)}),B=t=>H.dispatch(t);const Le=()=>{const[t,e]=x.exports.useState(""),{list:r}=P(s=>M(s)),o=x.exports.useCallback(()=>t?new V(r,["name"],{caseSensitive:!0}).search(t):r,[t,r]);return $(()=>B(h())),i("div",{className:"Home",children:[n(ae,{bind:s=>e(s)}),n(ve,{pokemonList:o()})]})};var Pe="/react-pokedux/assets/logo_v4.20243a3c.svg";const Se=()=>n(f,{fixed:"top",children:i(A,{children:[n(f.Item,{to:"/",children:n(L,{size:"small",src:Pe})}),n(f.Item,{color:"black",children:n(I,{to:"/",children:"Home"})})]})});const Ee=({children:t})=>i("div",{children:[n(Se,{}),n("div",{className:"Layout-content",children:t})]}),{Row:R,Column:v}=l,{Item:y,Content:Oe,Header:Te,Description:_e}=D,Ce=()=>{const{id:t}=X(),{pokemon:e,status:r}=P(o=>fe(o));return $(()=>{B(m(t))}),e?r==="pending"?n(_,{active:!0,children:"Loading"}):n(A,{textAlign:"center",children:i(l,{padded:!0,children:[n(R,{columns:1,children:n(v,{children:n("h2",{children:e.name})})}),i(R,{columns:2,children:[n(v,{children:n(L,{size:"medium",src:e.sprites.front_default,centered:!0,bordered:!0,rounded:!0})}),n(v,{children:i(D,{children:[i(y,{children:[n("strong",{children:"Height"}),": ",e.height]}),i(y,{children:[n("strong",{children:"Weight"}),": ",e.weight]}),n(y,{children:e.types.map(({type:o},s)=>n(O,{color:j,children:o.name},s))})]})})]})]})}):null},xe=()=>i(ee,{children:[n(w,{path:"/",element:n(Le,{})}),n(w,{path:"/:id",element:n(Ce,{})})]});const we=()=>n(Ee,{children:n(xe,{})}),Ne=({children:t})=>n(te,{store:H,children:t});re.render(n(se,{basename:"react-pokedux/",children:n(Ne,{children:n(ne.StrictMode,{children:n(we,{})})})}),document.getElementById("root"));
