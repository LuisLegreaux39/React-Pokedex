var J=Object.defineProperty,Q=Object.defineProperties;var Z=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var X=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable;var D=(t,e,r)=>e in t?J(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,u=(t,e)=>{for(var r in e||(e={}))X.call(e,r)&&D(t,r,e[r]);if($)for(var r of $(e))ee.call(e,r)&&D(t,r,e[r]);return t},B=(t,e)=>Q(t,Z(e));var m=(t,e,r)=>(D(t,typeof e!="symbol"?e+"":e,r),r);import{j as s,S as A,a as i,C as N,I as h,L as j,G as p,b as te,u as se,F as re,m as M,D as ne,c as P,d as v,e as C,f as ae,r as y,g as x,h as H,P as oe,i as ie,k as le,l as _,T as K,n as ce,o as E,p as l,q as de,s as ue,R as he,t as I,v as me,w as pe,B as ge,x as fe}from"./vendor.ae0ffb01.js";const ve=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}};ve();var ye="/react-pokedux/assets/logo_v4.20243a3c.svg";const Ce=()=>s(A,{fixed:"top",children:i(N,{children:[s(A.Item,{to:"/",children:s(h,{size:"small",src:ye})}),s(A.Item,{children:s(j,{to:"/",children:"Home"})}),s(A.Item,{children:s(j,{to:"/abilities",children:"Abilities"})})]})});const Ae=({children:t})=>i("div",{children:[s(Ce,{}),s("div",{className:"Layout-content",children:t})]});const Ee=t=>{const{bind:e}=t,r=()=>a=>e(a.target.value);return s("div",{className:"Searcher wrapper",children:s(p,{children:s(p.Column,{widescreen:10,largeScreen:10,mobile:16,className:"Searcher",children:s(te,{aligned:"right",input:{fluid:!0},showNoResults:!1,onSearchChange:r(),placeholder:"Encuentra a tu Pokem\xF3n favorito"})})})})},Le="violet",Se="red",q={normal:"A8A77A",fighting:"C22E28",flying:"A98FF3",poison:"A33EA1",ground:"E2BF65",rock:"B6A136",bug:"A6B91A",ghost:"735797",steel:"B7B7CE",water:"6390F0",fire:"EE8130",grass:"7AC74C",electric:"F7D02C",dragon:"6F35FC",ice:"96D9D6",psychic:"F95587",dark:"705746",fairy:"D685AD",unknown:"000000",shadow:"000000"};const ke=t=>{const e=se(),{sprites:r,name:a,types:n,id:o}=t,c={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},b=d=>()=>e(d);return s(re,{children:s(p.Column,{mobile:16,tablet:8,computer:4,children:i(M.div,{className:"PokemonCard",onClick:b(`/${o}`),variants:c,whileHover:{scale:1.2},whileTap:{scale:.8,borderRadius:"100%"},children:[s(h,{centered:!0,fluid:!0,wrapped:!0,src:r.other["official-artwork"].front_default,size:"small"}),s("h2",{className:"PokemonCard-title",children:a}),s(ne,{}),s("div",{className:"Pokemon-type",children:n.map(({type:d})=>s(P,{style:{backgroundColor:`#${q[d.name]}`,color:"white"},children:d.name}))})]},o)})})},U={GET_ALL:"POKEMONS/GET_ALL",GET_ID:"POKEMONS/GET_ID"},we={GET_ALL:"ABILITIES/GET_ALL"},Te={GET_ALL:"TYPES/GET_ALL"},Pe={GET_ALL:"MOVES/GET_ALL"};class G{constructor(e={},r={}){m(this,"pure",()=>({get:e=>this.service.get(e,this.options)}));m(this,"setOptions",e=>this.options.headers=u(u({},this.options.headers),e));m(this,"handleError",(e,...r)=>{console.error(` On the ${this.constructor.name} ==> ${e} ==> `),console.error(r)});m(this,"get",(e,r)=>{try{let a=String(e);return this.service.get(a,this.options).then(n=>r(n.status,n.data)).catch(({response:n})=>{try{r(n.status,n)}catch(o){return this.handleError(o,e,r)}})}catch(a){console.warn(` On the ${this.constructor.name} ==> ${a}  `)}});m(this,"delete",(e,r={},a)=>this.service({method:"DELETE",url:e,data:r},this.options).then(n=>a(n.status,n.response)).catch(({response:n})=>{try{a(n.status,n)}catch(o){return this.handleError(o,e,a)}}));m(this,"post",(e,r={},a)=>this.service({method:"POST",url:e,data:r},this.options).then(n=>{a(n.status,n)}).catch(({response:n})=>{try{a(n.status,n)}catch(o){return this.handleError(o,e,a)}}));this.service=v.create(B(u({},r),{headers:u({},e)})),this.options={headers:{}}}put(e,r={},a){return this.service.request({method:"PUT",url:e,responseType:"json",data:r}).then(n=>a(n.status,n.data)).catch(({response:n})=>{try{a(n.status,n)}catch(o){return this.handleError(o,e,a)}})}}m(G,"setCommonHeaders",e=>v.defaults.headers.common=u(u({},v.defaults.headers.common),e)),m(G,"setHeaders",e=>v.defaults.headers=u(u({},v.defaults.headers),e));const xe=()=>{const{REACT_APP_BACKEND_API_URL:t}={};let e=new G({},{baseURL:t||"https://pokeapi.co/api/v2/"});return e.service.interceptors.request.use(r=>r,r=>{Promise.reject(r)}),e.pure()},_e=xe(),{get:g}=_e,Re=t=>g(t),be=t=>g(`pokemon/${t}`),De=(t=10)=>g(`pokemon?limit=?limit=${t}&offset=200`),Ie=t=>Promise.all(t.map(e=>Re(e.url))),Oe=t=>g(t),Ge=(t=327)=>g(`ability?limit=${t}`),Ne=t=>Promise.all(t.map(e=>Oe(e.url))),Me=()=>g("type"),$e=()=>g("move"),Be=t=>g(t),je=t=>Promise.all(t.map(e=>Be(e.url))),L=C(U.GET_ALL,async t=>{const{data:{count:e,results:r,next:a,previous:n}}=await De(),o=await Ie(r);return{count:e,result:o.map(c=>c.data),next:a,previous:n}}),Fe=t=>{t.addCase(L.pending,e=>{e.home.status="pending"}),t.addCase(L.fulfilled,(e,{payload:{count:r,result:a,next:n,previous:o}})=>{e.home.status="full",e.home.list=a,e.home.next=n,e.home.previous=o,e.home.pokemonCount=r}),t.addCase(L.rejected,e=>{e.home.status="rejected"})},S=C(U.GET_ID,async(t,{getState:e})=>{const{data:r}=await be(t);return r}),ze=t=>{t.addCase(S.pending,e=>{e.details.status="pending"}),t.addCase(S.fulfilled,(e,{payload:r})=>{e.details.status="full",e.details.pokemon=r}),t.addCase(S.rejected,e=>{e.details.status="rejected"})},k=C(we.GET_ALL,async t=>{const{data:{results:e}}=await Ge();return(await Ne(e)).map(a=>a.data)}),He=t=>{t.addCase(k.pending,e=>{e.abilities.status="pending"}),t.addCase(k.fulfilled,(e,{payload:r})=>{e.abilities.status="full",e.abilities.list=r}),t.addCase(k.rejected,e=>{e.abilities.status="rejected"})},w=C(Pe.GET_ALL,async t=>{const{data:{results:e}}=await $e(),r=await je(e);return console.log(r),r.map(a=>a.data)}),Ke=t=>{t.addCase(w.pending,e=>{e.moves.status="pending"}),t.addCase(w.fulfilled,(e,{payload:r})=>{e.moves.list=r,e.moves.status="full"}),t.addCase(w.rejected,e=>{e.moves.status="rejected"})},T=C(Te.GET_ALL,async(t,{dispatch:e})=>{const{data:{results:r}}=await Me();return e(w()),r}),qe=t=>{t.addCase(T.pending,e=>{e.types.status="pending"}),t.addCase(T.fulfilled,(e,{payload:r})=>{e.types.status="full",e.types.list=r}),t.addCase(T.rejected,e=>{e.types.status="rejected"})},F=ae({name:"pokemons",initialState:{home:{list:[],pokemonCount:0,status:null,next:null,previous:null},details:{pokemon:null,status:null},abilities:{list:[],status:null},types:{list:[],status:null},moves:{list:[],status:null}},extraReducers:t=>{Fe(t),ze(t),He(t),qe(t),Ke(t)}}),V=t=>t.pokemons.home,Ue=t=>t.pokemons.details,Ve=t=>t.pokemons.types,Ye=t=>{y.exports.useState({});const e={hidden:{opacity:1,scale:0},visible:{opacity:1,scale:1,transition:{delayChildren:.3,staggerChildren:.1}}},{pokemonList:r}=t,{status:a,pokemonCount:n}=x(o=>V(o));return a?a==="pending"?s(H,{active:!0,children:"Loading"}):s(M.div,{className:"wrapper",variants:e,initial:"hidden",animate:"visible",children:i(p,{children:[r.map((o,c)=>s(ke,u({},o),`pokemon-${c}`)),s(p.Row,{children:s(oe,{activePage:0,totalPages:n})})]})}):null},We=t=>e=>r=>{console.log(`Triggering redux ${r.type}`),e(r)};let Je=ie({[F.name]:F.reducer});const Y=le({reducer:Je,middleware:t=>t().concat(We)}),R=t=>Y.dispatch(t),Qe=()=>{const[t,e]=y.exports.useState(!1),{list:r}=x(a=>Ve(a));return _(()=>{R(T()),setTimeout(()=>{e(!0)},100)}),s(N,{children:s(p,{children:s(p.Row,{children:s(K.Group,{as:"list",visible:t,animation:"scale",duration:900,children:r.map(({name:a},n)=>s(P,{style:{margin:"5px",backgroundColor:`#${q[a]}`,color:"white"},children:a},n))})})})})};const Ze=()=>{const[t,e]=y.exports.useState(""),{list:r}=x(n=>V(n)),a=y.exports.useCallback(()=>t?new ce(r,["name"],{caseSensitive:!1}).search(t):r,[t,r]);return _(()=>R(L())),i("div",{className:"Home",children:[s(Ee,{bind:n=>e(n)}),s(Qe,{}),s(Ye,{pokemonList:a()})]})},Xe=({height:t,weight:e,base_experience:r,name:a,stats:n,types:o,abilities:c})=>{let b={hp:"green",attack:"yellow",defense:"teal","special-attack":"purple","special-defense":"violet",speed:"red"};return s(E,{fluid:!0,children:i(E.Content,{children:[s(E.Header,{as:"h2",children:a}),i(E.Description,{children:[s(l,{celled:!0,compact:!0,textAlign:"center",children:i(l.Body,{children:[i(l.Row,{children:[s(l.Cell,{collapsing:!0,children:"Abilities"}),s(l.Cell,{children:c.map(({ability:d},f)=>s(P,{color:Se,style:{margin:"1px"},children:d.name},f))})]}),i(l.Row,{children:[s(l.Cell,{collapsing:!0,children:"Height"}),s(l.Cell,{children:t})]}),i(l.Row,{children:[s(l.Cell,{collapsing:!0,children:"Weight"}),s(l.Cell,{children:e})]}),i(l.Row,{children:[s(l.Cell,{collapsing:!0,children:"Base Experience"}),s(l.Cell,{children:r})]}),i(l.Row,{children:[s(l.Cell,{collapsing:!0,children:"Types"}),s(l.Cell,{children:o.map(({type:d},f)=>s(P,{color:Le,children:d.name},f))})]})]})}),n.map(({stat:d,base_stat:f},W)=>s(de,{label:d.name,value:f,total:f+100,progress:"value",color:b[d.name]},W))]})]})})},{Row:z,Column:O}=p,et=()=>{const[t,e]=y.exports.useState(!1),{id:r}=ue(),{pokemon:a,status:n}=x(o=>Ue(o));return _(()=>{R(S(r)),setTimeout(()=>{e(!0)},200)}),a?n==="pending"?s(H,{active:!0,children:"Loading"}):i(N,{textAlign:"center",children:[s("br",{}),i(p,{padded:!0,doubling:!0,children:[i(z,{columns:2,children:[i(O,{children:[s(K,{visible:t,animation:"scale",duration:500,children:s(h,{size:"medium",src:a.sprites.other["official-artwork"].front_default,centered:!0,bordered:!0,rounded:!0})}),i(h.Group,{size:"tiny",children:[s(h,{src:a.sprites.front_default,size:"small"}),s(h,{src:a.sprites.back_default,size:"small"}),s(h,{src:a.sprites.front_shiny,size:"small"}),s("br",{}),s(h,{src:a.sprites.other.dream_world.front_default,size:"small"}),s(h,{src:a.sprites.other.home.front_default,size:"small"}),s(h,{src:a.sprites.other.home.front_shiny,size:"small"})]})]}),s(O,{children:s(M.div,{initial:{scale:0},animate:{scale:1,animationDelay:.3},children:s(Xe,u({},a))})})]}),s(z,{columns:5,children:a.moves.map(({move:o},c)=>s(O,{children:o.name},c))})]})]}):null},tt=()=>(_(()=>{R(k())}),s("div",{children:"abilites"})),st=()=>i(he,{children:[s(I,{path:"/",element:s(Ze,{})}),s(I,{path:"/:id",element:s(et,{})}),s(I,{path:"/abilities",element:s(tt,{})})]});const rt=()=>s(Ae,{children:s(st,{})}),nt=({children:t})=>s(me,{store:Y,children:t});pe.render(s(ge,{basename:"react-pokedux/",children:s(nt,{children:s(fe.StrictMode,{children:s(rt,{})})})}),document.getElementById("root"));
